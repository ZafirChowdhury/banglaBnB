{% extends "layout.html" %}

{% block title %}: {{ properties.title }}{% endblock %}

{% block main %}

    <div class="container py-5">
        <div class="row align-items-center">
            <!-- Text Content -->
            <div class="col-md-6">
                <h1 class="fw-bold">{{ properties.title }}</h1>
                <p class="text-muted">{{ properties.description }}</p>
                <p class="bold">{{ properties.location }}</p>
                <h3 class="text-primary fw-bold">{{ properties.price }} Tk</h3>
                
                {% if properties.occupied %}
                <!-- if occupied -->
                    {% if session['user_id'] == properties.host_id %}
                    <!-- host can unbook a proparty -->
                        <form action="/unbook/{{ properties.property_id }}" method="post" class="mt-3">
                            <div class="form-group">
                                <button type="submit" class="btn btn-danger mt-2">Unbook</button>
                            </div>
                        </form>
                    {% endif %}
                {% else %}
                    <!-- if not occupied -->
                    {% if session['user_id'] != properties.host_id %}
                    <!-- if not host | can book the proparty -->
                        <form action="/book/{{ properties.property_id }}" method="post" class="mt-3">
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary mt-2">Book</button>
                            </div>
                        </form>
                    {% endif %}
                {% endif %}
            </div>

            <!-- Image Content -->
            <div class="col-md-6 text-center">
                <img src="{{ url_for('static', filename='img.webp') }}" alt="Propertie Image" class="img-fluid rounded shadow">
            </div>

        </div>
    </div>

{% endblock %}